"use strict";(self.webpackChunkmycompany_docs=self.webpackChunkmycompany_docs||[]).push([["2367"],{4982:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>i,metadata:()=>s,assets:()=>l,toc:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"Docker","title":"Installing with Docker","description":"You must install Docker and Docker Compose to work with Docker containers.","source":"@site/docs/Docker.md","sourceDirName":".","slug":"/Docker","permalink":"/en/Docker","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion-solutions/mycompany-docs/edit/main/docs/Docker.md","tags":[],"version":"current","lastUpdatedAt":1744725867000,"frontMatter":{"title":"Installing with Docker"},"sidebar":"docs","previous":{"title":"MyCompany migration to another server","permalink":"/en/MyCompany_migration_to_another_server"},"next":{"title":"Administration","permalink":"/en/Administration"}}'),o=r("5893"),t=r("65");let i={title:"Installing with Docker"},c=void 0,l={},a=[{value:"Launching Mycompany using Docker Compose",id:"docker-platform",level:3}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["You must install ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," and ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})," to work with Docker containers."]})}),"\n",(0,o.jsx)(n.h3,{id:"docker-platform",children:"Launching Mycompany using Docker Compose"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Download the ",(0,o.jsx)(n.code,{children:"compose.yaml"})," file from ",(0,o.jsx)(n.a,{href:"https://download.lsfusion.org/solutions/mycompany-docker/",children:"central server"})," to a folder of your choice (we'll call it ",(0,o.jsx)(n.code,{children:"$FUSION_DIR$"}),"). This file contains settings for running four containers:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"PostgreSQL"}),"\n",(0,o.jsx)(n.li,{children:"Application Server"}),"\n",(0,o.jsx)(n.li,{children:"Mycompany"}),"\n",(0,o.jsx)(n.li,{children:"Web Client"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"compose.yaml"})," setting (optional):"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["If you need to change the startup settings (e.g., use a different container version or customize environment variables), edit the ",(0,o.jsx)(n.code,{children:"compose.yaml"})," file according to the ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/get-started/overview/",children:"Docker documentation"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Application server startup options can also be set using the container's environment variables - in the environment attribute. For example, to change the server locale to Russian, write:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:"environment:\r\n- USER_SETLANGUAGE=ru\r\n- USER_SETCOUNTRY=RU\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["When searching for startup parameters in environment variables, Spring automatically converts them to uppercase and replaces dots with underscores. In the example above, the values of the environment variables will be substituted into the corresponding parameters: ",(0,o.jsx)(n.code,{children:"user.setLanguage"})," and ",(0,o.jsx)(n.code,{children:"user.setCountry"}),"."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Available lsFusion container images:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/lsfusion/server/tags",children:"Server"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/lsfusion/client/tags",children:"Client"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Starting the containers:"}),"\n",(0,o.jsxs)(n.p,{children:["Go to the ",(0,o.jsx)(n.code,{children:"$FUSION_DIR$"})," folder and run the command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:" docker-compose up\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Once the launch is complete, the web client will be available at: ",(0,o.jsx)(n.code,{children:"http://localhost:8080/"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Working with project files:\r\nAfter the first launch, subfolders will be created in the ",(0,o.jsx)(n.code,{children:"$FUSION_DIR$"})," folder:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"docker-client-conf"})," - client configuration."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"docker-db"})," - database files."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The server data will be stored in a Docker volume managed by Docker Engine, with the default name ",(0,o.jsx)(n.code,{children:"mycompany_docker-server"}),". Your lsFusion language modules (",(0,o.jsx)(n.code,{children:".lsf"})," files or folders with them) as well as other resources (reports, Java files, images, CSS, JS, etc.) or the ",(0,o.jsx)(n.code,{children:"settings.properties"})," file will be stored there. Server logs are also located there."]}),"\n",(0,o.jsxs)(n.p,{children:["If necessary, files are copied to the running container. For example, to copy the ",(0,o.jsx)(n.code,{children:"conf"})," folder with the ",(0,o.jsx)(n.code,{children:"settings.properties"})," file in it, use the command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker cp <yourPath>/conf mycompany-server-1:/lsfusion\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"mycompany-server-1"})," is the default server container name. It may be changed according to your settings."]}),"\n",(0,o.jsxs)(n.p,{children:["After stopping the container, the files from the ",(0,o.jsx)(n.code,{children:"lsfusion"})," folder will be saved in the volume."]})]})}function h(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},65:function(e,n,r){r.d(n,{Z:function(){return c},a:function(){return i}});var s=r(7294);let o={},t=s.createContext(o);function i(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);